'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _blessed=require('blessed');var _blessed2=_interopRequireDefault(_blessed);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}var Ui=function(){function Ui(){var _this=this;_classCallCheck(this,Ui);this.screen=_blessed2.default.screen({debug:true,warnings:true,log:'/tmp/necm.log',dockBorders:true,smartCSR:true,fullUnicode:true,title:'NECM'});this.initListWidget();this.initSearchWidget();this.screen.on('element focus',function(cur,old){if(old.border)old.style.border.fg='default';if(cur.border)cur.style.border.fg='green';_this.screen.render()});this.screen.key(['tab'],function(ch,key){_this.screen.focusNext()});this.screen.key(['S-tab'],function(ch,key){_this.screen.focusPrevious()});this.screen.key(['escape','q','C-c'],function(ch,key){_this.screen.destroy()});this.list.focus();this.screen.render()}_createClass(Ui,[{key:'initListWidget',value:function initListWidget(){var _this2=this;this.list=_blessed2.default.list({mouse:true,keys:true,vi:true,align:'left',label:' \u7F51\u6613\u4E91\u97F3\u4E50 ',border:'line',width:'50%',height:'50%',top:'center',left:'center',padding:1,items:[' 0. \u6392\u884C\u699C',' 1. \u827A\u672F\u5BB6',' 2. \u65B0\u789F\u4E0A\u67B6',' 3. \u7CBE\u9009\u6B4C\u5355',' 4. \u6211\u7684\u6B4C\u5355',' 5. DJ\u8282\u76EE',' 6. \u6253\u789F',' 7. \u6536\u85CF',' 8. \u5360\u4F4D\u7B26',' 9. \u5E2E\u52A9',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26',' x. \u5360\u4F4D\u7B26'],style:{fg:'blue',bg:'default',border:{fg:'default',bg:'default'},selected:{fg:'#f0f0f0',bg:'green'}}});this.screen.append(this.list);this.list.on('select',function(item,index){_this2.screen.log('index -> '+index);_this2.screen.log(item);_this2.list.setLabel(' '+item.getText().split('.').slice(-1)[0].trim()+' ');_this2.screen.render()})}},{key:'initSearchWidget',value:function initSearchWidget(){var _this3=this;this.searchBox=_blessed2.default.textbox({label:' \u641C\u7D22 ',content:'',border:'line',style:{fg:'blue',bg:'default',bar:{bg:'default',fg:'blue'},border:{fg:'default',bg:'default'}},padding:{left:1},width:'30%',height:3,right:0,top:2,keys:true,vi:true,mouse:true});this.searchBox.on('submit',function(value){if(value)_this3.list.setLabel(' \u641C\u7D22> '+value+' ');_this3.list.focus();_this3.searchBox.clearInput();_this3.screen.render()});this.screen.append(this.searchBox)}}]);return Ui}();var ui=new Ui;exports.default=Ui;